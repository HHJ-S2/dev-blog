{"componentChunkName":"component---src-templates-post-template-tsx","path":"/2022-10-02-클로저(Closure)-escaping과autoclosure/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>@escaping</h2>\n<h3>@escaping 사용 예시</h3>\n<ul>\n<li>어떤 함수의 내부에 존재하는 클로저를 외부 변수에 저장하는 경우 사용한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">var</span> savedFunc <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"1\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 파라미터로 받은 클로저를 외부로 할당할때 escaping(탈출)시킨다.</span>\n<span class=\"token keyword\">func</span> <span class=\"token function-definition function\">escapingFunc1</span><span class=\"token punctuation\">(</span>closure<span class=\"token punctuation\">:</span> <span class=\"token attribute atrule\">@escaping</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  savedFunc <span class=\"token operator\">=</span> closure\n<span class=\"token punctuation\">}</span>\n\nescapingFunc1 <span class=\"token punctuation\">{</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"2\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">savedFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// \"2\"</span></code></pre></div>\n<br/>\n<ul>\n<li>GCD (비동기 코드 사용시)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">escapingFunc2</span><span class=\"token punctuation\">(</span>closure<span class=\"token punctuation\">:</span> <span class=\"token attribute atrule\">@escaping</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">\"Any\"</span></span>\n\n  <span class=\"token comment\">// 1초 뒤에 실행</span>\n  <span class=\"token class-name\">DispatchQueue</span><span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span><span class=\"token function\">asyncAfter</span><span class=\"token punctuation\">(</span>deadline<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">closure</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">escapingFunc2</span><span class=\"token punctuation\">(</span>closure<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> name <span class=\"token keyword\">in</span>\n  <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"name: </span><span class=\"token interpolation-punctuation punctuation\">\\(</span><span class=\"token interpolation\">name</span><span class=\"token interpolation-punctuation punctuation\">)</span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br/>\n<h3>@autoclosure 사용 예시</h3>\n<p><code class=\"language-text\">@autoclosure</code> 키워드 사용시 자동으로 클로저를 만들어준다.</p>\n<p>파라미터가 없는 경우에만 사용 가능하다.</p>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">printBoolToString</span><span class=\"token punctuation\">(</span>closure<span class=\"token punctuation\">:</span> <span class=\"token attribute atrule\">@autoclosure</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token function\">closure</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"Y\"</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"N\"</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> num <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\n<span class=\"token function\">printBoolToString</span><span class=\"token punctuation\">(</span>closure<span class=\"token punctuation\">:</span> num <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"클로저(Closure) - @escaping, @autoclosure","summary":"클로저(Closure) - @escaping, @autoclosure","date":"2022.10.02.","categories":["TIL","Swift"]}}}]}},"pageContext":{"slug":"/2022-10-02-클로저(Closure)-escaping과autoclosure/"}},"staticQueryHashes":[]}